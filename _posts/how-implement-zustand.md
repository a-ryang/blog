---
title: zustandë¥¼ êµ¬í˜„í•˜ë©° ìƒíƒœê´€ë¦¬ ì´í•´ë„ ë†’ì´ê¸°
excerpt: "ë‚´ë¶€ë™ì‘ ì¢€ ì•Œê³  ì¨ë¼"
thumbnail: "/images/blog/thumbnail/zustand.jpg"
date: "2023-07-29T12:03:00.000Z"
updatedAt: "2023-07-29"
author: "a-ryang"
tags: ["zustand", "ìƒíƒœê´€ë¦¬", "react", "ë””ìì¸íŒ¨í„´"]
---

ğŸš§ ì‘ì„±ì¤‘

## ì´ìŠˆ

[Using zustand without react](https://docs.pmnd.rs/zustand/recipes/recipes#using-zustand-without-react)

í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë˜ ë„ì¤‘, ë¦¬ì•¡íŠ¸ í™˜ê²½ ë‚´ë¶€ê°€ ì•„ë‹Œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬(axios ì¸í„°ì…‰í„°)ì—ì„œ zustand ìŠ¤í† ì–´ë¥¼ ì‚¬ìš©í•  ì¼ì´ ìˆì—ˆë‹¤.

ì´ ê³¼ì •ì—ì„œ ë¦¬ì•¡íŠ¸ ì™¸ë¶€ì—ì„œë„ ìƒíƒœë¥¼ ì œê³µí•´ì£¼ëŠ” zustandì˜ ë™ì‘ì— ëŒ€í•´ ê¶ê¸ˆì¦ì´ ìƒê²¼ê³ , ë‚´ê°€ ìƒíƒœ ê´€ë¦¬, ë””ìì¸ íŒ¨í„´ì— ëŒ€í•œ ì§€ì‹ì´ ë¶€ì¡±í•œ ê²ƒì„ ì•Œê²Œëë‹¤.

ì´ë¥¼ ì±„ìš°ê¸° ìœ„í•´ zustandë¥¼ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•˜ë©° ì´í•´í•˜ë ¤í•œë‹¤.

ë¨¼ì € zustandì— ì‚¬ìš©ë˜ëŠ” ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì¸ `ë°œí–‰-êµ¬ë… íŒ¨í„´`ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í–ˆë‹¤.

## ë””ìì¸ íŒ¨í„´

### ì˜µì €ë²„ íŒ¨í„´ Observer Pattern

ë°œí–‰-êµ¬ë… íŒ¨í„´ì€ ì˜µì €ë²„ íŒ¨í„´ì„ í™•ì¥í•œ ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ë¨¼ì € ì˜µì €ë²„ íŒ¨í„´ì„ ì•Œê³ ê°€ì.

**ì˜µì €ë²„ íŒ¨í„´ì´ë€?**

í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë³€ê²½ ë˜ë©´, í•´ë‹¹ ê°ì²´ë¥¼ ì˜ì¡´(êµ¬ë…)í•˜ê³  ìˆëŠ” ëª¨ë“  ê°ì²´ì—ê²Œ ë³€ê²½ì„ ì•Œë ¤ì£¼ëŠ” ë””ìì¸ íŒ¨í„´ì´ë‹¤.

ë‹¤ìŒ ë‘ê°€ì§€ ì—­í• ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.

1. ë°œí–‰ì (publisher ë˜ëŠ” subject)

- ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆëŠ” ê°ì²´.
- ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê´€ì°°ìë“¤ì—ê²Œ ì•Œë¦°ë‹¤.
- ê´€ì°°ìë¥¼ ì¶”ê°€í•˜ë‹¤, ê´€ì°°ìë¥¼ ì œê±°í•˜ë‹¤, ê´€ì°°ìë“¤ì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚´ë‹¤. ì„¸ê°€ì§€ ë©”ì„œë“œë¥¼ ê°€ì§„ë‹¤.

```js
class Publisher {
  constructor(name) {
    this.name = name;
    this.observers = [];
  }

  addObserver(observer) {
    this.observers.push(observer);
  }

  removeObserver(observer) {
    this.observers = this.observers.filter((obs) => obs !== observer);
  }

  notify(data) {
    this.observers.forEach((obs) => obs.update(data));
  }
}
```

2. ê´€ì°°ì (observer ë˜ëŠ” subscriber)

- ë°œí–‰ìì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ëŠ” ê°ì²´.
- ë°œí–‰ìì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ëŠ”ë‹¤.

```js
class Observer {
  constructor(name) {
    this.name = name;
  }

  update(data) {
    // do something
  }
}
```

ì¼ìƒì†ì—ì„œë„ ìì£¼ ì ‘í•  ìˆ˜ ìˆëŠ” íŒ¨í„´ì´ë‹¤.

- ìœ íŠœë¸Œ : ë°œí–‰ì - êµ¬ë…í•œ ì±„ë„, ê´€ì°°ì - ë‚˜
- SNS : ë°œí–‰ì - íŒ”ë¡œìš°í•œ ì‚¬ìš©ì, ê´€ì°°ì - ë‚˜

> ë‰´ì§„ìŠ¤ ê³µì‹ SNS ê³„ì •ì„ íŒ”ë¡œìš°í•œ ë‘ ëª…ì˜ íŒ¬ì´ ìˆë‹¤. ë‰´ì§„ìŠ¤ ê³µì‹ ê³„ì •ì´ ìƒˆë¡œìš´ í¬ìŠ¤íŠ¸ë¥¼ ì˜¬ë¦¬ë©´ ë‘ íŒ¬ì—ê²Œ ì•Œë¦¼ì´ ê°ˆ ê²ƒì´ë‹¤.

```js
// class Publisher
  newPost(message) {
    this.observers.forEach((obs) => obs.update(message));
  }

// class Observer
update(message) {
  onsole.log(`${this.name}ë‹˜! ìƒˆë¡œìš´ '${message}' í¬ìŠ¤íŠ¸ê°€ ì˜¬ë¼ì™”ì–´ìš”`);
}

```

```js
const ë‰´ì§„ìŠ¤_ê³µì‹ê³„ì • = new Publisher("newjeans-official");
const íŒ¬1 = new Observer("ë¼ì´ì–¸");
const íŒ¬2 = new Observer("ì–´í”¼ì¹˜");

ë‰´ì§„ìŠ¤_ê³µì‹ê³„ì •.addObserver(íŒ¬1);
ë‰´ì§„ìŠ¤_ê³µì‹ê³„ì •.addObserver(íŒ¬2);

ë‰´ì§„ìŠ¤_ê³µì‹ê³„ì •.newPost("ì•ˆë…• ë²„ë‹ˆì¦ˆ~");

// ì¶œë ¥
// ë¼ì´ì–¸ë‹˜! ìƒˆë¡œìš´ 'ì•ˆë…• ë²„ë‹ˆì¦ˆ~' í¬ìŠ¤íŠ¸ê°€ ì˜¬ë¼ì™”ì–´ìš”
// ì–´í”¼ì¹˜ë‹˜! ìƒˆë¡œìš´ 'ì•ˆë…• ë²„ë‹ˆì¦ˆ~' í¬ìŠ¤íŠ¸ê°€ ì˜¬ë¼ì™”ì–´ìš”
```

ë˜í•œ ì˜µì €ë²„ íŒ¨í„´ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œë„ ì‚¬ìš©ë˜ê³  ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `addEventListener`ë¡œ í´ë¦­ ë“± íŠ¹ì • ì´ë²¤íŠ¸ë¥¼ ê´€ì°°(êµ¬ë…)í•˜ê³ , í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.

ê·¸ëŸ¬ë‚˜ ì˜µì €ë²„ íŒ¨í„´ì€ ë°œí–‰ìì™€ ê´€ì°°ì(êµ¬ë…ì) ì‚¬ì´ì— ê²°í•©ë„ê°€ ë†’ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.

ê´€ì°°ìê°€ íŠ¹ì •í•œ ë°œí–‰ì ê°ì²´ì—ê²Œ ì§ì ‘ ë“±ë¡ë˜ì–´ì•¼ í•˜ë©°, ë°œí–‰ìê°€ ê´€ì°°ìì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì•¼ í•œë‹¤.

ë”°ë¼ì„œ ë°œí–‰ìëŠ” ê´€ì°°ì ëˆ„êµ¬ì¸ì§€ì™€ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ êµ¬ì²´ì ìœ¼ë¡œ ì•Œê³ ìˆì–´ì•¼í•œë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì˜µì €ë²„ íŒ¨í„´ì„ í™•ì¥í•œ ë°œí–‰-êµ¬ë… íŒ¨í„´ì„ ì•Œì•„ë³´ì.

### ë°œí–‰-êµ¬ë… íŒ¨í„´ Pub-Sub Pattern

### ì°¸ê³ 

[zustand](https://github.com/pmndrs/zustand)
[Observer pattern - ìœ„í‚¤](https://en.wikipedia.org/wiki/Observer_pattern)
[React ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ Zustandì˜ ì½”ë“œë¥¼ íŒŒí—¤ì³ë³´ì - ui.toast.com](https://ui.toast.com/posts/ko_20210812#react-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-zustand%EC%9D%98-%EC%BD%94%EB%93%9C%EB%A5%BC-%ED%8C%8C%ED%97%A4%EC%B3%90%EB%B3%B4%EC%9E%90)
[Build your own Zustand! - rohitpotato.hashnode.dev](https://rohitpotato.hashnode.dev/build-your-own-zustand)
